#!/usr/bin/env node
'use strict';

process.title = 'gg';

var resolve = require('resolve');
var exit = require('exit');

resolve('gg-cli', {
    basedir: process.cwd()
}, function(error, projectLocalCli) {

    var ggcli;
    if (error) {
        ggcli = require('../src/cli/index');
    } else {
        ggcli = require(projectLocalCli);
    }

    ggcli.default({
        args: process.argv.slice(2),
        basedir: process.cwd(),
        stream: {
            inputStream: process.stdin,
            outputStream: process.stdout,
            errorStream: process.stderr
        }
    }).then(function(result) {
        var exitCode = typeof result === 'object' ? result.exitCode : result;
    });
});